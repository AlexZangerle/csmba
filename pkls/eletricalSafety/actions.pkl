amends "https://raw.githubusercontent.com/UIBK-DPS-DC/Cirrina-Specifications/main/pkl/CollaborativeStateMachineDescription.pkl"
import "https://raw.githubusercontent.com/UIBK-DPS-DC/Cirrina-Specifications/main/pkl/CollaborativeStateMachineDescription.pkl" as CSM
import "https://raw.githubusercontent.com/AlexZangerle/csmba/main/pkls/events.pkl" as Events
/// This module contains actions for the eletricalSafety SM


/// Raise to start arc fault detection
aRaiseStartArcFaultDetection: CSM.RaiseActionDescription = new {
    event {
        name = Events.eStartArcFaultDetection
        channel = "internal"
    }
}

/// Raise if an arc fault has been detected 
/// Includes location of arcFault as payload
aRaiseArcFaultDetected: CSM.RaiseActionDescription = new {
    event {
        name = Events.eArcFaultDetected
        data {
            new {
                name = "arcFaultLocation"
                value = Vars.vArcFaultLocation
            }
        }
        channel = "global"
    }
}